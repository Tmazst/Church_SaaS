<!-- MM  -->
{% extends "base.html" %}
{% block content %}

<style>
    .form-fields{
        display:flex;
        flex-direction:column;
    }
    section{ background-image:url(static/images/bg_service.png) }
</style>
<div class="flash-messages" id="">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for  category, message in messages %}
                <div class="flash-messages alert-{{category}}"> {{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
</div>
<br><br><br>
<div class="user-info">
    <div style="" class="img-cont">
        <div width="90%"><img class="prf-image" src="static/images/{{church.image}}" alt=""/></div>
    </div><br>
    <h4 style="margin-bottom: 0;text-align: left;">{{church.church_name}}</h4>
    <div class="icons-cont"><img class="icons" src='static/icons/email-icon.png' /><small class="">{{church.church_email}}</small></div>
    <div style="margin-bottom: 0;text-align: left;">{{church.country}}, {{church.address}}</div>
</div><br>


<div style="height:200hv !important;align-items:flex-start;border:none" class="container finish-sign">

  <!-- <div style="" class="flex-general"> -->

    <form style="background-color:;flex-direction:column;z-index:1000;" class="church-form" _lpchecked="1" action="" method="post" enctype="multipart/form-data">
        <div class="group">
            <h3 style="text-align: left;">Church<br> Announcements</h3>
        </div>
        {{announcements_form.hidden_tag()}}

        <!-- Title  -->
        <div id="transaction_id" class="group">
            {{ announcements_form.title.label }}<br>
            {{ announcements_form.title(class="form-control finish-sign-fmcontrl",placeholder="Announcement Title") }}<br>
            {% if announcements_form.title.errors %}
            {% for error in announcements_form.title.errors %}<span class="span-error" >*{{error}}</span>{%endfor%}
            {% endif %}
        </div>

        <!-- Directed To  -->
        <div id="transaction_id" class="group">
            {{ announcements_form.directed_to.label }}<br>
            {{ announcements_form.directed_to(class="form-control finish-sign-fmcontrl") }}<br>
            {% if announcements_form.directed_to.errors %}
            {% for error in announcements_form.directed_to.errors %}<span class="span-error" >*{{error}}</span>{%endfor%}
            {% endif %}
        </div>

        <!-- Information  -->
        <div id="payment_platform" class="group">
            {{ announcements_form.info.label }}<br>
            {{ announcements_form.info(class="form-control finish-sign-fmcontrl text-area-h",placeholder="Information") }}<br>
            {% if announcements_form.info.errors %}
            {% for error in announcements_form.info.errors %}<span class="span-error" >*{{error}}</span>{%endfor%}
            {% endif %}
        </div><br>

        <!-- Email Users -->
        <div id="transaction_id" style="background-color:;width:100%;max-width: 600px;" class="grou">
            {{ announcements_form.emails.label }}
            {{ announcements_form.emails(class="finish-sign-fmcontrl,style='height:5px;background-color:red'") }}<br>
            {% if announcements_form.emails.errors %}
            {% for error in announcements_form.emails.errors %}<span class="span-error" >*{{error}}</span>{%endfor%}
            {% endif %}
        </div><br>


        <div style="" class="group">
                <div>{{ announcements_form.submit(class="btns") }}</div><br>
                <!--<input class="btns" type="submit" value="Create Account" />-->
                <!-- <div><a class="slinks-li" href="/login">Login</a></div> -->
        </div>
        <div style="" class="group">
            <!-- <div><a class="slinks-li" href="/register">Forgot Password?</a></div> -->
        </div>

    </form>
  <!-- </div> -->
</div>


<!-- <h1 style="text-align:center">Sorry, There are No Upcoming Events Open at the Moment!</h1>
<h1 style="text-align:center">Check Again Later</h1>
<br> -->


<script>
    // document.addEventListener('DOMContentLoaded', function() {
    //     const paymentPlatformSelect = document.querySelector('select[name="payment_platform"]');
    //     const popImageComp = document.getElementById('compulsury-pop');
    //     const popImagDefault = document.getElementById('default-pop');

    //     function toggleFileFields() {
    //         console.log("Change Identified: ", paymentPlatformSelect.value);

            // $.post("/user_announcements_form", { platform: paymentPlatformSelect.value }, function(response) {
            //     // Optionally handle response if needed
            // });


            // Use the Fetch API
            // fetch('/user_announcements_form', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({ platform: paymentPlatformSelect.value })
            // })
            // .then(response => response.json())
            // .then(data => {
            //     // Optionally handle response if needed
            //     console.log(data);
            //     console.log(data);
            // })
            // .catch(error => console.error('Error:', error));



    //         if (paymentPlatformSelect.value === 'AGCC FNB Account') {
    //             popImageComp.style.display = 'block'; // Show pop_image
    //             popImageComp.required = 'true'
    //         } else if (paymentPlatformSelect.value === '"My Regional Bank"') {
    //             popImagDefault.style.display = 'block'; // Show pop_image_comp
    //             popImageComp.required = 'false'
    //         }else {
    //             popImageComp.style.display = 'none'; // Hide pop_image_comp
    //             popImagDefault.style.display = 'none'; // Hide pop_image_comp
    //             popImageComp.required = 'false'
    //         }
    //     };

    //     paymentPlatformSelect.addEventListener('change', toggleFileFields);
    //     toggleFileFields(); // Run on initial load to set correct state
    // });
</script>
{% endblock %}